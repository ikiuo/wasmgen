<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8"/>
    <title>wasmgen : WebAssembly ç”¨ã‚¢ã‚»ãƒ³ãƒ–ãƒ© - ä»£æ›¿ç”¨ç–‘ä¼¼å‘½ä»¤</title>
    <style>
    body {
      width: 840px;
      margin: auto;
      padding: 2.0em;
      border: solid 1px lightgray;
      font-family: "Meiryo";
    }
    h1, h2 {
      border-bottom: solid 1px #eceef1;
      padding-bottom: 0.2em;
    }
    table {
      border: solid 1px #e8ebee;
      border-collaspe: collaspe;
      border-spacing: 0;
    }
    th, td {
      border: solid 1px #e8ebee;
      padding: 0.5em;
    }
    code, .code {
      background-color: #f6f8fa;
      padding: 0.3em 0.4em;
      font-family: "Courier", "MS Gothic";
      font-size: 0.9em ;
      line-height: 1.5em;
    }
    pre {
      background-color: #f6f8fa;
      padding: 1em;
      font-family: "Courier", "MS Gothic";
      font-size: 0.9em ;
      line-height: 0.6em;
    }
    .left {
      text-align: left;
    }
    .center {
      text-align: center;
    }
    .right {
       text-align: right;
    }
    .vtop {
       vertical-align: top;
    }
    .vbase {
       vertical-align: baseline;
    }
    .vmiddle {
       vertical-align: middle;
    }
    .vbottom {
       vertical-align: bottom;
    }
    </style>
  </head>
  <body>
    <h1>wasmgen : WebAssembly ç”¨ã‚¢ã‚»ãƒ³ãƒ–ãƒ©<br/>ä»£æ›¿ç”¨ç–‘ä¼¼å‘½ä»¤</h1>
    <p style="font-size: xx-large;"><b>ç›®æ¬¡</b></p>
    Â Â Â Â Â Â Â Â <a href="#index-1">ä»£æ›¿ç”¨ç–‘ä¼¼å‘½ä»¤</a><br/>
    Â Â Â Â Â Â Â Â Â Â Â Â <a href="#index-2">ç–‘ä¼¼å‘½ä»¤Â .alias</a><br/>
    Â Â Â Â Â Â Â Â Â Â Â Â <a href="#index-3">ç–‘ä¼¼å‘½ä»¤Â .defmacroÂ ã€œÂ .endmacro</a><br/>
    Â Â Â Â Â Â Â Â Â Â Â Â <a href="#index-4">ç–‘ä¼¼å‘½ä»¤Â .delmacro</a><br/>
    <p>&nbsp;</p>
    <h2><a name="index-1">ä»£æ›¿ç”¨ç–‘ä¼¼å‘½ä»¤</a></h2>
    <p>è¨˜è¿°ã®çŸ­ç¸®ã‚„åˆ¥è¡¨ç¾ã‚’ç›®çš„ã¨ã—ãŸç–‘ä¼¼å‘½ä»¤ã§ã™ã€‚</p>
    <p>&nbsp;</p>
    <h3><a name="index-2">ç–‘ä¼¼å‘½ä»¤&nbsp;<code>.alias</code></a></h3>
    <pre>name        .alias          value...</pre>
    <p><code>name</code>ã‚’<code>value...</code>ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚<code>name</code>ã¯ã‚¢ã‚»ãƒ³ãƒ–ãƒ© ã‚°ãƒ­ãƒ¼ãƒãƒ«ã®åå‰ç©ºé–“ã«ç™»éŒ²ã•ã‚Œã€è¨˜è¿°å ´æ‰€ã‚ˆã‚Šå¾Œã§å‚ç…§ã§ãã¾ã™ã€‚</p>
    <p>&nbsp;</p>
    <h3><a name="index-3">ç–‘ä¼¼å‘½ä»¤&nbsp;<code>.defmacro</code>&nbsp;ã€œ&nbsp;<code>.endmacro</code></a></h3>
    <p><code>.defmacro</code>ã®æ¬¡ã®è¡Œã‹ã‚‰<code>.endmacro</code>ç›´å‰ã®è¡Œã¾ã§ã‚’ãƒã‚¯ãƒ­ã‚’ç™»éŒ²ã—ã¾ã™ã€‚</p>
    <pre>ãƒã‚¯ãƒ­å    .defmacro       å¼•æ•°...<br/>
;#         ç™»éŒ²ç¯„å›²: ã“ã“ã‹ã‚‰<br/>
;#<br/>
;#         &lt;ãƒã‚¯ãƒ­å&gt;       &lt;å¼•æ•°&gt;...<br/>
;#<br/>
;#           ã¨è¨˜è¿°ã™ã‚‹ã¨ã€&lt;å¼•æ•°&gt;ã‚’ç½®æ›ã—ã¦å±•é–‹ã—ã¾ã™<br/>
;#           (@ã§å§‹ã¾ã‚‹ç–‘ä¼¼å‘½ä»¤ã‚„ãƒã‚¯ãƒ­ç–‘ä¼¼å‘½ä»¤ã¯ç½®æ›å¯¾è±¡å¤–)<br/>
;#<br/>
;#         ç™»éŒ²ç¯„å›²: ã“ã“ã¾ã§<br/>
ã€€ã€€ã€€ã€€    .endmacro       ;# ãƒã‚¯ãƒ­å®šç¾©çµ‚ã‚ã‚Š</pre>
    <p><code>ãƒã‚¯ãƒ­å</code>ã¯ãƒã‚¯ãƒ­ç”¨åå‰ç©ºé–“ã«ç™»éŒ²ã•ã‚Œã€ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã§ãã‚‹å ´æ‰€ã§å‚ç…§ã§ãã¾ã™ã€‚</p>
    <p>&nbsp;</p>
    <h3><a name="index-4">ç–‘ä¼¼å‘½ä»¤&nbsp;<code>.delmacro</code></a></h3>
    <pre>            .delmacro       ãƒã‚¯ãƒ­å</pre>
    <p>ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹<code>ãƒã‚¯ãƒ­å</code>ã‚’å‰Šé™¤ã—ã¾ã™ã€‚</p>
    <p>&nbsp;</p>
    <h4>ãƒã‚¯ãƒ­ä½¿ç”¨ä¾‹</h4>
    <pre>;# ãƒã‚¯ãƒ­å®šç¾©<br/>
<br/>
$i32.inc    .defmacro       labelidx<br/>
            local.get       labelidx<br/>
            i32.const       1<br/>
            i32.add<br/>
            local.set       labelidx<br/>
            .endmacro<br/>
<br/>
<br/>
;# ãƒã‚¯ãƒ­ä½¿ç”¨<br/>
<br/>
func1       .code<br/>
n           .local          i32<br/>
            ;# ...<br/>
            $i32.inc        n<br/>
;# $i32.inc ã‚’å±•é–‹<br/>
;#          local.get  n<br/>
;#          i32.const  1<br/>
;#          i32.add<br/>
;#          local.set  n<br/>
;#<br/>
            ;# ğ‘–ğ‘›ğ‘ ğ‘¡ğ‘Ÿ...<br/>
<br/>
<br/>
;# ãƒã‚¯ãƒ­å‰Šé™¤<br/>
<br/>
            .delmacro       $i32.inc<br/>
            ;# ä»¥ä¸‹ã§ã¯ $i32.inc ã¯ä½¿ç”¨ã§ããªã„<br/>
<br/>
<br/>
;# ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«æ³¨æ„<br/>
;#   1) .defmacro ã§å¼•æ•°ãªã—ã‚’å®šç¾©<br/>
;#   2) .delmacro ã§å‰Šé™¤<br/>
;#   3) å‰Šé™¤ã•ã‚ŒãŸãƒã‚¯ãƒ­åã®ã¿ã®è¡Œã‚’è¨˜è¿°<br/>
<br/>
mtest       .defmacro<br/>
            ;# ğ‘–ğ‘›ğ‘ ğ‘¡ğ‘Ÿ...<br/>
            .endmacro<br/>
<br/>
            ;# ğ‘–ğ‘›ğ‘ ğ‘¡ğ‘Ÿ...<br/>
            mtest           ;# ã“ã‚Œã¯ãƒã‚¯ãƒ­å±•é–‹ã•ã‚Œã‚‹<br/>
            ;# ğ‘–ğ‘›ğ‘ ğ‘¡ğ‘Ÿ...<br/>
<br/>
            .delmacro       mtest<br/>
<br/>
            ;# ğ‘–ğ‘›ğ‘ ğ‘¡ğ‘Ÿ...<br/>
            mtest           ;# ã“ã‚Œã¯ãƒ©ãƒ™ãƒ«æ‰±ã„<br/>
            ;# ğ‘–ğ‘›ğ‘ ğ‘¡ğ‘Ÿ...</pre>
    <p>&nbsp;</p>
  </body>
</html>
